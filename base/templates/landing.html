{% load static %}
{% load compress %}

<!DOCTYPE html>

<html lang="ru">

    <head>

        <meta charset="utf-8" />
        <meta name="viewport" content = 'width=device-width, initial_scale=1.0' />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        
        
        <title>
            

        </title>

        <meta name="description" content="" />
        <meta name="keywords" content="" />

        <link href="" rel="shortcut icon" />

        {% compress css %}

            <link rel="stylesheet" href="{% static 'scss/base/landing.scss' %}" type="text/x-scss">
            <link rel="stylesheet" href="{% static 'scss/base/navs/top-nav.scss' %}" type="text/x-scss">
            <link rel="stylesheet" href="{% static 'scss/base/navs/bottom-nav.scss' %}" type="text/x-scss">

        {% endcompress %}

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    </head>

    <body>

        <div class="circles">

            <div class="small"></div>
            <div class="medium"></div>
            <div class="big"></div>

        </div>

        <div class="content">

            <div class='top-nav'>

                {% include 'navs/top-nav.html' %}
    
            </div>
    
            <div class='main'>
    
                <div class='text-wrapper'>

                    <div class="text">

                        <h1>

                            Не теряйте голову!
    
                        </h1>
    
                        <h2>
    
                            Создайте онлайн блокнот
    
                        </h2>
        
                        {% if logged_in %}

                            <a href="{% url 'app:home' %}">
                
                                <button>
            
                                    Создать блокнот
                
                                </button>
            
                            </a>

                        {% else %}

                            <a href="{% url 'user:register' %}">
            
                                <button>
            
                                    Создать блокнот
                
                                </button>
            
                            </a>

                        {% endif %}

                    </div>
    
                </div>

                <div class="image">

                    <img src="{% static 'img/base/онлайн_блокнот_заметки.png' %}" alt="Онлайн блокнот с заметками">

                </div>
    
            </div>
    
            <div class="bottom-nav">

                {% include 'navs/bottom-nav.html' %}

            </div>
            
        </div>

    </body>

    <style>

        @font-face {
            
            font-family: Comfortaa;
            src: url("{% static 'fonts/Comfortaa.ttf' %}");
        
        }

        body {

            font-family: Comfortaa;

        }

    </style>

    <script>

        function randomColor(){

            return "#" + ((Math.random() * 16777215) | 0).toString(16);

        }

        function randomNumFromInterval(min, max) {

            return Math.random() * (max - min) + min

        }

        const delay = ms => new Promise(res => setTimeout(res, ms));

        /* Circle animation */

        const animateCircle = async (scale) =>  {

            if (scale == 'big') {

                $('.big').css('background-color', randomColor());

                scale = randomNumFromInterval(1, 1.3);
                $('.big').css('transform', 'scale(' + scale + ')')
                
                await delay(3000);

                $('.big').css('background-color', randomColor());

                scale = randomNumFromInterval(0.7, 1);
                $('.big').css('transform', 'scale(' + scale + ')')


            } else if (scale == 'medium') {

                $('.medium').css('background-color', randomColor());

                scale = randomNumFromInterval(1, 1.6);
                $('.medium').css('transform', 'scale(' + scale + ')')
                
                await delay(1500);

                $('.medium').css('background-color', randomColor());

                scale = randomNumFromInterval(0.6, 1);
                $('.medium').css('transform', 'scale(' + scale + ')')

            } else {

                $('.small').css('background-color', randomColor());

                scale = randomNumFromInterval(1, 1.9);
                $('.small').css('transform', 'scale(' + scale + ')')
                
                await delay(750);

                $('.small').css('background-color', randomColor());

                scale = randomNumFromInterval(0.1, 1);
                $('.small').css('transform', 'scale(' + scale + ')')
                
            }

        }

        

        setInterval(function() {

            animateCircle('big');

        }, 6000)

        setInterval(function() {

            animateCircle('medium');

        }, 3000)

        setInterval(function() {

            animateCircle('small');

        }, 1500)


    </script>

</html>